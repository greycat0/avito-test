(this["webpackJsonpavito-test"]=this["webpackJsonpavito-test"]||[]).push([[6],{257:function(t,e,n){"use strict";n.r(e);var a=n(101),s=n(102),r=n(107),i=n(106),c=n(10),o=n(0),l=n.n(o),u=n(256),d=(n(119),n(262)),p=n(36),h=n(259),b=n(77),j=(n(121),n(44),n(260)),m=n(261),f=n(35),v=n(103),w=n.n(v),x=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this,t)).state={data:null,loading:!0},s}return Object(s.a)(n,[{key:"fetchNews",value:function(){var t=this;this.setState({loading:!0}),w.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(this.props.newsId,".json")).then((function(e){var n=e.data;t.setState({data:n,loading:!1})}))}},{key:"componentDidMount",value:function(){this.fetchNews()}},{key:"componentDidUpdate",value:function(t){t.newsId!==this.props.newsId&&this.fetchNews()}},{key:"render",value:function(){return this.state.data&&!this.state.loading?Object(c.jsx)(u.b.Item,{actions:[Object(c.jsxs)(h.b,{children:[Object(c.jsx)(j.a,{className:"flex"}),this.state.data.score]}),Object(c.jsxs)(h.b,{children:[Object(c.jsx)(m.a,{className:"flex"}),this.state.data.descendants]})],children:Object(c.jsx)(u.b.Item.Meta,{title:Object(c.jsx)(f.b,{to:"/".concat(this.props.newsId),children:this.state.data.title}),description:Object(c.jsxs)("div",{className:"-mt-3",children:[new Date(1e3*this.state.data.time).toLocaleDateString("ru")," ",this.state.data.by]})})},this.props.newsId):Object(c.jsx)("div",{children:Object(c.jsx)(b.a,{className:"my-3"})})}}]),n}(l.a.Component),O=n(227),g=n.n(O),y=n(228),N=n(25);var k=null,I=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.getNews(),k||(k=setInterval(this.props.getNews,6e4))}},{key:"render",value:function(){var t=this;return Object(c.jsxs)("div",{children:[Object(c.jsx)("header",{className:"w-full h-14 bg-blue-500 flex items-center",children:Object(c.jsx)("span",{className:"ml-auto mr-14 ".concat(this.props.loading?"animate-spin":""),children:Object(c.jsx)(d.a,{className:"transform transition-all \n                          hover:scale-105 text-white p-2 cursor-pointer\n                          rounded-full text-2xl leading-none\n                          ".concat(this.props.loading?"bg-transparent":"hover:bg-blue-400","\n                       "),onClick:function(){return!t.props.loading&&t.props.getNews()}})})}),Object(c.jsx)(u.b,{className:"sm:mx-20 md:mx-42 lg:mx-52",itemLayout:"vertical",size:"large",rowKey:function(t){return t},dataSource:this.props.news,renderItem:function(t){return Object(c.jsx)(x,{newsId:t})}})]})}}]),n}(l.a.Component);var D={getNews:function(){return function(){var t=Object(y.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:N.b,payload:!0}),t.next=3,w.a.get("https://hacker-news.firebaseio.com/v0/newstories.json",{params:{orderBy:'"$key"',limitToFirst:100}});case 3:n=t.sent,e({type:N.a,payload:n.data}),e({type:N.b,payload:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};e.default=Object(p.b)((function(t){return{news:t.news.news,loading:t.news.loading}}),D)(I)}}]);
//# sourceMappingURL=6.04582080.chunk.js.map