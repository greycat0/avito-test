{"version":3,"sources":["components/CommentTree.js","components/News.js"],"names":["Comment","props","state","data","collapsed","this","setState","loading","axios","get","commentId","then","fetchComment","className","classNames","kids","onClick","author","by","Date","time","toLocaleDateString","content","text","avatar","RightOutlined","DownOutlined","React","Component","CommentTree","map","kid","defaultProps","timer","Home","newsId","location","pathname","slice","fetchNews","setInterval","bind","ArrowLeftOutlined","history","replace","ReloadOutlined","actions","StarOutlined","score","MessageOutlined","descendants","Meta","title","href","url","description"],"mappings":"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","file":"static/js/7.f74c1c19.chunk.js","sourcesContent":["import React from 'react'\nimport { Comment as AntComment, Spin } from 'antd';\nimport { RightOutlined, DownOutlined } from '@ant-design/icons'\nimport 'antd/lib/comment/style/css'\nimport 'antd/lib/avatar/style/css'\nimport 'antd/lib/spin/style/css'\nimport axios from 'axios'\nimport classNames from 'classnames'\n\n\nclass Comment extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            data: null,\n            collapsed: true\n        }\n    }\n    fetchComment() {\n        this.setState({ loading: true, collapsed: true })\n        axios.get(`https://hacker-news.firebaseio.com/v0/item/${this.props.commentId}.json`)\n            .then(({ data }) => {\n                this.setState({ data })\n            })\n    }\n    componentDidMount() {\n        this.fetchComment()\n    }\n\n    render() {\n        if (this.state.data) {\n            return (\n                <AntComment\n                    className={classNames({\n                        'cursor-pointer': this.state.data.kids && this.state.collapsed,\n                        'cursor-auto': !this.state.data.kids\n                    })}\n                    onClick={() => this.setState({ collapsed: false })}\n                    author={`${this.state.data.by} ${new Date(this.state.data.time * 1000).toLocaleDateString('ru')}`}\n                    content={this.state.data.text}\n                    avatar={\n                        this.state.data.kids ?\n                            (this.state.collapsed ? <RightOutlined /> : <DownOutlined />)\n                            : null\n                    }\n                >\n                    {!this.state.collapsed && <CommentTree kids={this.state.data.kids} />}\n                </AntComment>\n            )\n        } else {\n            return <div><Spin className=\"my-3\" /></div>\n        }\n    }\n}\n\nclass CommentTree extends React.Component {\n    render() {\n        return this.props.kids.map(kid => <Comment key={kid} commentId={kid} />\n        )\n    }\n}\nCommentTree.defaultProps = {\n    kids: []\n};\n\nexport default CommentTree","import React from 'react'\nimport { Card, Space, Spin } from 'antd'\nimport 'antd/lib/card/style/css'\nimport 'antd/lib/space/style/css'\nimport 'antd/lib/spin/style/css'\nimport { StarOutlined, MessageOutlined, ReloadOutlined, ArrowLeftOutlined } from '@ant-design/icons';\nimport axios from 'axios'\nimport CommentTree from './CommentTree'\n\nlet timer = null\nclass Home extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            data: null,\n            loading: true,\n            newsId: this.props.location.pathname.slice(1)\n        }\n    }\n\n    fetchNews() {\n        this.setState({ loading: true })\n        axios.get(`https://hacker-news.firebaseio.com/v0/item/${this.state.newsId}.json`)\n            .then(({ data }) => {\n                this.setState({ data, loading: false })\n            })\n    }\n\n    componentDidMount() {\n        this.fetchNews()\n        if (!timer) {\n            timer = setInterval(this.fetchNews.bind(this), 60000)\n        }\n    }\n\n    render() {\n        if (this.state.data) {\n            return (\n                <div>\n                    <header className=\"w-full h-14 bg-blue-500 flex items-center\">\n                        <ArrowLeftOutlined\n                            className=\"transform transition-transform \n                            hover:scale-105 text-white ml-5 p-2 cursor-pointer\n                            rounded-full hover:bg-blue-400 text-2xl leading-none\n                            \"\n                            onClick={() => this.props.history.replace('/')}\n                        />\n                        <span className={`ml-auto mr-14 ${this.state.loading ? 'animate-spin' : ''}`}>\n                            <ReloadOutlined\n                                className={`transform transition-all \n                                            hover:scale-105 text-white p-2 cursor-pointer\n                                            rounded-full text-2xl leading-none\n                                            ${this.state.loading ? 'bg-transparent' : 'hover:bg-blue-400'}\n                                         `}\n                                onClick={() => !this.state.loading && this.fetchNews()}\n                            />\n                        </span>\n                    </header>\n                    <div className=\"sm:w-3/4 w-11/12 mx-auto\">\n                        <Card\n                            className=\"my-10\"\n                            actions={[\n                                <Space>\n                                    <StarOutlined className=\"flex\" />\n                                    {this.state.data.score}\n                                </Space>,\n                                <Space>\n                                    <MessageOutlined className=\"flex\" />\n                                    {this.state.data.descendants}\n                                </Space>\n                            ]}\n                        >\n                            <Card.Meta\n                                title={<a href={this.state.data.url}>{this.state.data.title}</a>}\n                                description={\n                                    <div className=\"-mt-2\">\n                                        {new Date(this.state.data.time * 1000).toLocaleDateString('ru')} {this.state.data.by}\n                                        <p><a href={this.state.data.url}>{this.state.data.url}</a></p>\n                                    </div>\n                                }\n                            />\n                        </Card>\n\n                        {!this.state.loading && <CommentTree kids={this.state.data.kids} />}\n                    </div>\n                </div>\n            )\n        } else {\n            return (\n                <Spin className=\"block mx-auto my-20\" />\n            )\n        }\n    }\n}\n\nexport default Home;\n"],"sourceRoot":""}